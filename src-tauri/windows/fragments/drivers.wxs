<?xml version="1.0" encoding="utf-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
   <Fragment>
       <!-- This section defines where files will be installed -->
       <!-- INSTALLDIR is the main install location, and we're adding a Drivers subfolder -->
       <!-- FileSource sets the base path for finding source files relative to src-tauri -->
       <DirectoryRef Id="INSTALLDIR" FileSource="drivers">
           <Directory Id="DriverFilesDir" Name="Drivers">
               <!-- Each Component block is a copy instruction to put the file in the installer -->
               <Component Id="InstallPart1" Guid="*" Win64="yes">
                   <File Id="installpart1.cmd"
                         Name="installpart1.cmd"
                         KeyPath="yes" />
               </Component>
               <Component Id="InstallPart2" Guid="*" Win64="yes">
                   <File Id="installpart2.cmd"
                         Name="installpart2.cmd"
                         KeyPath="yes" />
               </Component>
               <Component Id="DriverInf" Guid="*" Win64="yes">
                   <File Id="snFilter.inf"
                         Name="snFilter.inf"
                         KeyPath="yes" />
               </Component>
               <Component Id="DriverCert" Guid="*" Win64="yes">
                   <File Id="snFilter.cer"
                         Name="snFilter.cer"
                         KeyPath="yes" />
               </Component>
               <Component Id="DriverSys" Guid="*" Win64="yes">
                   <File Id="snFilter.sys"
                         Name="snFilter.sys"
                         KeyPath="yes" />
               </Component>
               <Component Id="DriverCat" Guid="*" Win64="yes">
                   <File Id="snfilter.cat"
                         Name="snfilter.cat"
                         KeyPath="yes" />
               </Component>
           </Directory>
       </DirectoryRef>
   </Fragment>

   <Fragment>
       <!-- ComponentGroup allows Tauri to reference all driver components at once -->
       <ComponentGroup Id="DriverComponents">
           <ComponentRef Id="InstallPart1"/>
           <ComponentRef Id="InstallPart2"/>
           <ComponentRef Id="DriverInf"/>
           <ComponentRef Id="DriverCert"/>
           <ComponentRef Id="DriverSys"/>
           <ComponentRef Id="DriverCat"/>
       </ComponentGroup>
   </Fragment>
</Wix>